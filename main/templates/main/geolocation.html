{% extends 'main/base.html' %}

{% block content %}

<div class="container " style="height: 1000px; width: 100%">
    <h1 align="center">Геолокация</h1>
    <div  id="country1" style="height:50%; width:50%; float:left;"></div>
    <div id="country2" style="height:50%; width:50%; float:left;"></div>
    <div id="city1" style="height:50%; width:50%; float:left;"></div>
    <div id="city2" style="height:50%; width:50%; float:left;"></div>
</div>


<script src="/static/js/echarts.min.js" type="text/javascript"></script>


<script type="text/javascript">
            var myChart = echarts.init(document.getElementById('country1'));
            var option = {
                title : {
                    text: 'Страны отправители',
                    x:'top'
                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    orient : 'vertical',
                    x : 'left',
                    data:['1','2','3']
                },
                calculable : false,
                series : [
                    {
                        name:'Страны отправители',
                        type:'pie',
                        radius : '60%',
                        center: ['50%', '55%'],
                        data:[
                        {% for key, value in countries1.items %}
                        {value: {{value}} , name:'{{key}}' },
                        {% endfor %}
                        ]
                    }
                ]
            };
            myChart.setOption(option);
</script>

<script type="text/javascript">
            var myChart = echarts.init(document.getElementById('country2'));
            var option = {
                title : {
                    text: 'Страны получатели',
                    x:'top'
                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    orient : 'vertical',
                    x : 'left',
                    data:['1','2','3']
                },
                calculable : false,
                series : [
                    {
                        name:'Страны получатели',
                        type:'pie',
                        radius : '60%',
                        center: ['50%', '55%'],
                        data:[
                        {% for key, value in countries2.items %}
                        {value: {{value}} , name:'{{key}}' },
                        {% endfor %}
                        ]
                    }
                ]
            };
            myChart.setOption(option);
</script>

<script type="text/javascript">
            var myChart = echarts.init(document.getElementById('city1'));
            var option = {
                title : {
                    text: 'Города отправители',
                    x:'top'

                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    orient : 'vertical',
                    x : 'left',
                    data:['1','2','3']
                },
                calculable : false,
                series : [
                    {
                        name:'Города отправители',
                        type:'pie',
                        radius : '60%',
                        center: ['50%', '55%'],
                        data:[
                        {% for key, value in cities1.items %}
                        {value: {{value}} , name:'{{key}}' },
                        {% endfor %}
                        ]
                    }
                ]
            };
            myChart.setOption(option);
</script>

<script type="text/javascript">
            var myChart = echarts.init(document.getElementById('city2'));
            var option = {
                title : {
                    text: 'Города получатели',
                    x:'top'
                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    orient : 'vertical',
                    x : 'left',
                    data:['1','2','3']
                },
                calculable : false,
                series : [
                    {
                        name:'Города получатели',
                        type:'pie',
                        radius : '60%',
                        center: ['50%', '55%'],
                        data:[
                        {% for key, value in cities2.items %}
                        {value: {{value}} , name:'{{key}}' },
                        {% endfor %}
                        ]
                    }
                ]
            };
            myChart.setOption(option);
</script>


{% endblock %}