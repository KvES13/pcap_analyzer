{% extends 'main/base.html' %}

{% block content %}

<div class="container" style="height: 1000px; width: 100%">
    <div id="pcap_len" style="height:400px; width:50%; float:left;"></div>
    <div id="proto" style="height:400px; width:50%; float:left;"></div>
    <div id="pcap_count" style="height:400px; width:25%; float:left;"></div>
</div>


<script src="/static/js/echarts.min.js" type="text/javascript"></script>

    <script type="text/javascript">

 // Initialize the echarts instance based on the prepared dom
      var myChart = echarts.init(document.getElementById('pcap_len'));

      // Specify the configuration items and data for the chart
      var option = {
        title: {
          text: 'Диаграмма'
        },
        tooltip: {},
        legend: {
          data: ['Протокол']
        },
        xAxis: {
           type : 'category',
           name : 'Подпись по иксу',
           data :  ['IP', 'IPv6', 'TCP', 'UDP', 'ARP', 'ICMP', 'DNS', 'HTTP', 'HTTPS', 'Others']
        },
        yAxis: {},
        series: [
          {
            name: 'Количество',
            type: 'bar',
             itemStyle:{
            normal:{
                label:{show:true},
                color:'#87cefa' //图例颜色设置
                },
            emphasis:{label:{show:true}}
                },
            data: {{values_list}}
          }
        ]
      };

      // Display the chart using the configuration items and data just specified.
      myChart.setOption(option);
    </script>




<script type="text/javascript">
        // 路径配置

            // 基于准备好的dom，初始化echarts图表
            var myChart = echarts.init(document.getElementById('proto'));

            var option = {
                title : {
                    text: '数据包长度统计',
                    x:'center'
                },
                tooltip : {
                    trigger: 'item',
                    formatter: "{a} <br/>{b} : {c} ({d}%)"
                },
                legend: {
                    orient : 'vertical',
                    x : 'left',
                    data:['0-300','301-600','601-900','901-1200','1201-1500']
                },
                calculable : false,
                series : [
                    {
                        name:'数据包长度',
                        type:'pie',
                        radius : '60%',
                        center: ['50%', '55%'],
                        data:[
                            {value:3, name:'0-300'},
                            {value:16 , name:'301-600'},
                            {value:12, name:'601-900'},
                            {value:124, name:'901-1200'},
                            {value:12, name:'1201-1500'}
                        ]
                    }
                ]
            };

            // 为echarts对象加载数据
            myChart.setOption(option);

    </script>




{% endblock %}